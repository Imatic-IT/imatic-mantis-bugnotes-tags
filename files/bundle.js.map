{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://@imatic/whisperer/./src/components/BugnoteEnhancer.ts","webpack://@imatic/whisperer/./src/emojiPicker/ImaticEmojiPicker.ts","webpack://@imatic/whisperer/./src/service/Tooltip.ts","webpack://@imatic/whisperer/./src/utils/BugnotesHelper.ts","webpack://@imatic/whisperer/./src/utils/IconManager.ts","webpack://@imatic/whisperer/./src/utils/ReactionIconManager.ts","webpack://@imatic/whisperer/./src/utils/utils.ts","webpack://@imatic/whisperer/webpack/bootstrap","webpack://@imatic/whisperer/webpack/runtime/define property getters","webpack://@imatic/whisperer/webpack/runtime/hasOwnProperty shorthand","webpack://@imatic/whisperer/webpack/runtime/make namespace object","webpack://@imatic/whisperer/./src/index.ts"],"sourcesContent":["import {getSettings, NoteSettings, DEFAULT_SETTINGS} from '../utils/utils';\n\nimport {IconManager} from '../utils/IconManager';\nimport {BugnotesHelper} from \"../utils/BugnotesHelper\";\nimport {ReactionIconManager} from \"../utils/ReactionIconManager\";\nimport {ImaticEmojiPicker} from \"../emojiPicker/ImaticEmojiPicker\";\n\nexport class BugnoteEnhancer {\n    private settings: NoteSettings = DEFAULT_SETTINGS\n    private iconManager: IconManager = new IconManager();\n    private bugnoteHelper: BugnotesHelper = new BugnotesHelper();\n    private reactionIconManager: ReactionIconManager = new ReactionIconManager();\n    private imaticEmojiPicker: ImaticEmojiPicker | null = null;\n    private highlightedBugnotes: string[] = [];\n    private highlightedClass: string = 'highlighted';\n\n\n    async init() {\n        this.imaticEmojiPicker = new ImaticEmojiPicker()\n        await this.moveSavedBugnotesButton()\n        await this.loadSettings()\n        await this.loadHighlightedBugnotes()\n        await this.initializeBugnoteUI()\n    }\n\n    private async loadSettings(): Promise<void> {\n        this.settings = await getSettings();\n    }\n\n    private async loadHighlightedBugnotes(): Promise<void> {\n        this.highlightedBugnotes = await this.bugnoteHelper.getHighlightedBugnotes();\n    }\n\n\n    private async initializeBugnoteUI(): Promise<void> {\n        const bugnotes: HTMLTableCellElement[] | null = this.bugnoteHelper.getBugnotesTableRows();\n        if (!bugnotes || bugnotes.length === 0) return;\n\n        requestIdleCallback(async ():Promise<void> => {\n            for (const bugnote of bugnotes) {\n                await this.processBugnote(bugnote);\n            }\n            (() => {\n                document.querySelectorAll('.hidden-until-ready').forEach(el => el.classList.remove('hidden-until-ready'));\n            })();\n        });\n    }\n\n    private async processBugnote(bugnote: HTMLTableCellElement): Promise<void> {\n        const bugnoteId: string = bugnote.parentElement!.id;\n        const divWrapper: HTMLDivElement = this.createDivWrapper();\n        const div: HTMLDivElement = this.createBugnoteIconsDiv();\n\n        const saveIcon: HTMLElement = this.iconManager.createSaveBugnoteIcon();\n        const reactionIcon: HTMLElement = this.iconManager.createReactionOnBugnoteIcon();\n\n        if (this.highlightedBugnotes.includes(bugnoteId)) {\n            this.makeBugnoteHighlighted(bugnote);\n            saveIcon.classList.add(this.iconManager.saveIconClass);\n            saveIcon.classList.remove(this.iconManager.savedIconClass);\n        }\n\n        div.append(saveIcon, reactionIcon);\n        divWrapper.appendChild(div);\n        bugnote.appendChild(divWrapper);\n\n        saveIcon.addEventListener('click', () => this.handleSaveIconClick(bugnote));\n\n        const reactedIconContainer = await this.reactionIconManager.createReactionContainer(bugnoteId);\n        bugnote.appendChild(reactedIconContainer);\n\n        reactionIcon.addEventListener('click', (event: MouseEvent) => {\n            this.handleReactionIconClick(event ,reactionIcon)\n        })\n\n    }\n\n    private handleReactionIconClick(event:MouseEvent, reactionIcon: HTMLElement): void {\n        this.imaticEmojiPicker?.showModalOnClick(event,reactionIcon);\n\n        this.imaticEmojiPicker?.setOnEmojiSelect((emoji: string) => {\n            this.reactionIconManager.handleEmojiClick(emoji, reactionIcon)\n        })\n    }\n\n    private createElement<K extends keyof HTMLElementTagNameMap>(tag: K, className: string): HTMLElementTagNameMap[K] {\n        const element = document.createElement(tag);\n        element.classList.add(className, 'hidden-until-ready');\n        return element;\n    }\n\n    private createDivWrapper(): HTMLDivElement {\n        return this.createElement(\"div\", \"bugnote-wrapper\");\n    }\n\n    private createBugnoteIconsDiv(): HTMLDivElement {\n        return this.createElement(\"div\", \"bugnote-icons\");\n    }\n\n    private async handleSaveIconClick(bugnote: HTMLTableCellElement): Promise<void> {\n        const bugnoteId = bugnote.parentElement!.id;\n        const action = this.getAction(bugnote);\n\n        this.toggleBugnoteHighlight(bugnote, bugnoteId);\n\n        try {\n            const response = await fetch(this.settings.url, {\n                method: 'POST',\n                headers: {'Content-Type': 'application/json'},\n                body: JSON.stringify({bugnoteId: bugnoteId, bugId: this.settings.bugId, action}),\n            });\n\n            if (!response.ok) {\n                console.error(`Failed ${action} action. Status: ${response.status}. Message: ${await response.text()}`);\n            }\n        } catch (error) {\n            console.error(`Error performing ${action} action.`, error);\n        }\n    }\n\n    private getAction(bugnote: HTMLTableCellElement): string {\n        const isHighlighted = bugnote.parentElement!.classList.contains(this.highlightedClass);\n        return isHighlighted ? this.settings.actions.unhighlight : this.settings.actions.highlight;\n    }\n\n\n    private toggleBugnoteHighlight(bugnote: HTMLTableCellElement, bugnoteId: string): void {\n        const isHighlighted = bugnote.parentElement!.classList.contains(this.highlightedClass);\n        if (isHighlighted) {\n            this.highlightedBugnotes = this.highlightedBugnotes.filter(id => id !== bugnoteId);\n        } else {\n            this.highlightedBugnotes.push(bugnoteId);\n        }\n        this.makeBugnoteHighlighted(bugnote);\n    }\n\n    private makeBugnoteHighlighted(bugnote: HTMLTableCellElement): void {\n        this.bugnoteHelper.makeBugnoteHighlighted(bugnote)\n        this.iconManager.toggleSaveBugnoteIcon(bugnote)\n    }\n\n    private async moveSavedBugnotesButton(): Promise<void> {\n        const button = document.querySelector(\"a[href='#history']\");\n        const newButton = document.querySelector(\"#savedBugnotesLinkButton\");\n\n        if (button && newButton) {\n            const parentElement = button.parentElement;\n            if (parentElement) {\n                parentElement.append(button, newButton);\n            }\n        }\n    }\n\n}","import data from './data.json';\nimport messages from './messages.json';\n\nexport class ImaticEmojiPicker {\n    private emojis: { [groupKey: string]: string[] } = {};\n    private emojisGroups: { [key: string]: { key: string, message: string, order: number } } = {};\n    private modalId: string = 'emojiPickerModal';\n    private onEmojiSelectCallback: (emoji: string) => void = () => {\n    };\n\n    constructor() {\n        this.initializeEmojis();\n        this.initializeEmojiGroups();\n\n        this.createModal();\n        this.attachEventListeners();\n    }\n\n    private initializeEmojis(): void {\n        data.forEach((item) => {\n            if (item.group !== null && item.group !== undefined) {\n                if (!this.emojis[item.group]) {\n                    this.emojis[item.group] = [];\n                }\n                if (!this.emojis[item.group].includes(item.emoji)) {\n                    this.emojis[item.group].push(item.emoji);\n                }\n            }\n        });\n    }\n\n    public setOnEmojiSelect(callback: (emoji: string) => void): void {\n        this.onEmojiSelectCallback = callback;\n    }\n\n    private onEmojiSelected(emoji: string): void {\n        this.onEmojiSelectCallback(emoji);\n        this.closeModal();\n    }\n\n    private initializeEmojiGroups(): void {\n        messages.groups.forEach((group: { key: string, message: string, order: number }) => {\n            this.emojisGroups[group.order] = group;\n        });\n    }\n\n    private getFirstEmojiFromGroup(groupKey: string): string {\n        return this.emojis[groupKey]?.[0] || '';\n    }\n\n    private getEmojiGroup(groupKey: string): string {\n\n        return this.emojisGroups[groupKey]?.message.toUpperCase() || 'Unknown';\n    }\n\n    private createModal(): void {\n        const modalHtml = `\n        <div class=\"modal\" id=\"${this.modalId}\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"${this.modalId}Label\" aria-hidden=\"true\">\n            <div class=\"modal-dialog\" role=\"document\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <div class=\"emoji-filters\">\n                            ${Object.keys(this.emojis).map(groupKey => `\n                                <p class=\"emoji-filter-btn\">\n                                    <span class=\"emoji-filter-link\" data-group=\"${groupKey}\">\n                                        ${this.getFirstEmojiFromGroup(groupKey)}  \n                                    </span>\n                                </p>\n                            `).join('')}\n                        </div>\n                    </div>\n                    <div class=\"modal-body\">\n                        <div class=\"emoji-list\">\n                            ${Object.keys(this.emojis).map(groupKey => `\n                                <div class=\"emoji-group\" id=\"group-${groupKey}\">\n                                    <p>${this.getEmojiGroup(groupKey)}</p>\n                                    <div class=\"emoji-group-content\">\n                                        ${this.emojis[groupKey].map(emoji => `\n                                            <button class=\"emoji-btn\" data-emoji=\"${emoji}\">${emoji}</button>\n                                        `).join('')}\n                                    </div>\n                                </div>\n                            `).join('')}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        `;\n        document.body.insertAdjacentHTML('beforeend', modalHtml);\n        this.attachFilterClickListeners();\n    }\n\n\n    private attachFilterClickListeners(): void {\n        const filters = document.querySelectorAll('.emoji-filter-link');\n        filters.forEach(filter => {\n            filter.addEventListener('click', (event) => {\n                const groupKey = (event.target as HTMLElement).getAttribute('data-group');\n                if (groupKey) {\n                    const groupElement = document.getElementById(`group-${groupKey}`);\n                    if (groupElement) {\n                        const parentElement = groupElement.closest('.modal-body') as HTMLElement;\n                        if (parentElement) {\n                            parentElement.scrollTo({\n                                top: (groupElement as HTMLElement).offsetTop - parentElement.offsetTop,\n                                behavior: 'smooth',\n                            });\n                        }\n                    }\n                }\n            });\n        });\n    }\n\n    private attachEventListeners(): void {\n        document.body.addEventListener('click', (event) => {\n            const target = event.target as HTMLElement;\n            if (target && target.classList.contains('emoji-btn')) {\n                const emoji = target.getAttribute('data-emoji');\n                if (emoji) {\n                    this.onEmojiSelected(emoji);\n                }\n            }\n        });\n\n        document.addEventListener('click', (event) => {\n            const target = event.target as HTMLElement;\n\n            if (target && target.classList.contains('bugnote-reaction-icon')) {\n                return;\n            }\n\n            const modal = document.getElementById(this.modalId);\n            const modalContent = modal?.querySelector('.modal-content');\n\n            if (modal && modalContent) {\n                if (!modalContent.contains(target)) {\n                    this.closeModal();\n                }\n            }\n        });\n\n        document.addEventListener('keydown', (event) => {\n            if (event.key === 'Escape') {\n                this.closeModal();\n            }\n        });\n    }\n\n    public showModalOnClick(event: MouseEvent, _reactionIcon: HTMLElement): void {\n        const modal = document.getElementById(this.modalId);\n\n        if (modal) {\n            const {x, y} = this.calculatePosition(event);\n\n            modal.style.position = 'absolute';\n            modal.style.top = `${y}px`;\n            modal.style.left = `${x}px`;\n\n            modal.classList.add('show');\n        } else {\n            console.error(`Modal with ID ${this.modalId} not found.`);\n        }\n    }\n\n    private closeModal(): void {\n        const modal = document.getElementById(this.modalId);\n        if (modal) {\n            modal.classList.remove('show');\n        }\n    }\n\n    private calculatePosition(event: MouseEvent): { x: number, y: number } {\n        return {\n            x: event.clientX + window.scrollX,\n            y: event.clientY + window.scrollY\n        };\n    }\n}\n","export class Tooltip {\n\n    createTooltip(): HTMLDivElement {\n        return this.createElement('div', ['reaction-tooltip']) as HTMLDivElement;\n    }\n\n    private createElement(tag: string, classList: string[] = []): HTMLElement {\n        const element: HTMLElement = document.createElement(tag);\n        element.classList.add(...classList);\n        return element;\n    }\n\n\n    attachTooltipModalEvents(button: HTMLButtonElement, names: string[]): void {\n        button.addEventListener(\"mouseover\", () => {\n            let modal = document.querySelector(\".reaction-modal\") as HTMLDivElement;\n            if (!modal) {\n                modal = this.createElement('div', ['reaction-modal']) as HTMLDivElement;\n                document.body.appendChild(modal);\n            }\n\n            const rect: DOMRect = button.getBoundingClientRect();\n            modal.style.position = \"fixed\";\n            modal.style.top = `${rect.top - modal.offsetHeight}px`;\n            modal.style.left = `${rect.left + button.offsetWidth / 2}px`;\n\n            const currentNames = button.dataset.names ? JSON.parse(button.dataset.names) : names;\n            modal.textContent = currentNames.join(\", \");\n        });\n\n        button.addEventListener(\"mouseout\", () => {\n            const modal: Element | null = document.querySelector(\".reaction-modal\");\n            modal?.remove();\n        });\n        button.dataset.names = JSON.stringify(names);\n    }\n\n    addUserToTooltipModal(button: HTMLElement, name: string): void {\n        const modal: HTMLDivElement | null = document.querySelector(\".reaction-modal\");\n        if (!modal) {\n            return;\n        }\n        const names: string[] = button.dataset.names ? JSON.parse(button.dataset.names) : [];\n        names.push(name);\n\n        button.dataset.names = JSON.stringify(names);\n        modal.textContent = names.join(\", \");\n    }\n\n    removeUserFromTooltipModal(button: HTMLElement, name: string): void {\n        const modal: HTMLDivElement | null = document.querySelector(\".reaction-modal\");\n        if (!modal) {\n            return;\n        }\n        const names: string[] = button.dataset.names ? JSON.parse(button.dataset.names) : [];\n        const index: number = names.indexOf(name);\n        if (index === -1) {\n            return;\n        }\n        names.splice(index, 1);\n\n        if (names.length === 0) {\n            modal.remove();\n            return;\n        }\n\n        button.dataset.names = JSON.stringify(names);\n        modal.textContent = names.join(\", \");\n    }\n\n\n}","import {getSettings, NoteSettings, DEFAULT_SETTINGS} from '../utils/utils';\n\nexport class BugnotesHelper {\n    private settings: NoteSettings = DEFAULT_SETTINGS\n\n    constructor() {\n        this.init()\n    }\n    private async init() {\n        this.settings = await getSettings();\n        await this.getHighlightedBugnotes()\n    }\n    async getHighlightedBugnotes(): Promise<string[]> {\n        try {\n            const response = await fetch(this.settings.url!, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({\n                    action: this.settings.actions.get_highlights,\n                    bugId: this.settings.bugId,\n                }),\n            })\n\n            if (response.ok) {\n                return  await response.json();\n            } else {\n                console.error(`Error fetching issues: ${response.statusText}`);\n            }\n        } catch (e) {\n            console.error(e)\n        }\n        return []\n    }\n\n    getBugnotesTable(): HTMLDivElement | null {\n        const elements = document.querySelectorAll('#bugnotes');\n        if (elements.length < 2) {\n            return elements[0] as HTMLTableElement\n        }\n        return elements[1] as HTMLTableElement;\n    }\n\n    getBugnotesTableRows(): HTMLTableCellElement[] | null {\n\n        const bugnotesTable = this.getBugnotesTable();\n\n        if (!bugnotesTable) {\n            return null;\n        }\n\n        const tdElements: HTMLTableCellElement[] = Array.from(bugnotesTable.querySelectorAll<HTMLTableCellElement>('.category'))\n        if (tdElements.length === 0) {\n            return null\n        }\n        return tdElements;\n    }\n    makeBugnoteHighlighted(bugnote: HTMLTableCellElement): void {\n        bugnote.parentElement!.classList.toggle('highlighted')\n    }\n\n}","export class IconManager {\n\n    saveIconClass: string = 'fa-bookmark'\n    savedIconClass: string = 'fa-bookmark-o'\n\n    toggleSaveBugnoteIcon(bugnote: HTMLTableCellElement): void {\n        const i: HTMLElement | null = bugnote.querySelector('.bugnote-save-icon');\n\n        if (i) {\n            if (i.classList.contains(this.saveIconClass)) {\n                i.classList.replace(this.saveIconClass, this.savedIconClass);\n            } else {\n                i.classList.replace(this.savedIconClass, this.saveIconClass);\n            }\n        }\n    }\n\n    createSaveBugnoteIcon(): HTMLElement {\n        const i: HTMLElement = document.createElement(\"i\")\n        i.classList.add('bugnote-icon', 'bugnote-save-icon', 'fa', this.savedIconClass)\n        return i;\n    }\n\n    createReactionOnBugnoteIcon(): HTMLElement {\n        const i: HTMLElement = document.createElement(\"i\")\n        i.classList.add('bugnote-icon', 'fa', 'fa-smile-o', 'bugnote-reaction-icon')\n        return i;\n    }\n}","// TODO: AK JE MOC SROLLTOP TAK NEVIDNO EMOJIPICKER TREBA VALIDACIU < > OD VRCHU A ZMENIT POSITION (slack to má od určitej height to je dole alebo hore )\nimport {DEFAULT_SETTINGS, getSettings, NoteSettings} from '../utils/utils';\nimport {Tooltip} from \"../service/Tooltip\";\n\ninterface Reaction {\n    id: string;\n    bug_id: string;\n    bugnote_id: string;\n    emoji?: string;\n    username?: string;\n}\n\ninterface ReactionResponse {\n    action: 'delete' | 'save';\n    username: string;\n}\n\nexport class ReactionIconManager {\n    private settings: NoteSettings = DEFAULT_SETTINGS\n    private tooltip: Tooltip = new Tooltip();\n\n    constructor() {\n        this.initialize();\n    }\n\n    private async initialize(): Promise<void> {\n        await this.init();\n    }\n\n    private async init(): Promise<void> {\n        await this.loadSettings();\n    }\n\n\n    private async loadSettings(): Promise<void> {\n        this.settings = await getSettings();\n    }\n\n    private groupAndCountReactionsByBugnoteId(reactions: Reaction[]): Record<string, Record<string, {\n        count: number;\n        reactions: Reaction[];\n        usernames: string[];\n    }>> {\n        return reactions.reduce((acc, reaction) => {\n            const bugnoteId = 'c' + reaction.bugnote_id;\n            const emoji = reaction.emoji || 'unknown';\n            const username = reaction.username || 'unknown';\n\n            acc[bugnoteId] = acc[bugnoteId] || {};\n            acc[bugnoteId][emoji] = acc[bugnoteId][emoji] || {count: 0, reactions: [], usernames: []};\n\n            acc[bugnoteId][emoji].count++;\n            acc[bugnoteId][emoji].reactions.push(reaction);\n\n            if (!acc[bugnoteId][emoji].usernames.includes(username)) {\n                acc[bugnoteId][emoji].usernames.push(username);\n            }\n\n            return acc;\n        }, {} as Record<string, Record<string, { count: number; reactions: Reaction[]; usernames: string[] }>>);\n    }\n\n\n    private async getAllReactions(): Promise<Reaction[]> {\n        try {\n            const response = await fetch(this.settings.url, {\n                method: 'POST',\n                headers: {'Content-Type': 'application-json'},\n                body: JSON.stringify({bugId: this.settings.bugId, action: this.settings.actions.get_reactions})\n            })\n\n            if (!response.ok) {\n                const message: string = `Failed ${this.settings.actions.get_reactions} action. Status: ${response.status}. Message: ${await response.text()}`\n                console.error(message);\n                throw new Error(message);\n            }\n            return await response.json() as Reaction[];\n        } catch (error) {\n            console.error(`Error performing ${this.settings.actions.get_reactions} action.`, error);\n            throw error;\n        }\n    }\n\n    async createReactionContainer(bugnoteId: string): Promise<HTMLElement> {\n\n        const reactions: Reaction[] = await this.getAllReactions();\n\n        const reactionsByBugnote = this.groupAndCountReactionsByBugnoteId(reactions);\n\n        const div: HTMLElement = document.createElement(\"div\");\n        div.classList.add('bugnote-reaction-icons', 'bugnote-reaction-icons-' + bugnoteId, 'hidden-until-ready');\n\n        if (!reactionsByBugnote[bugnoteId]) {\n            return div;\n        }\n\n        for (const [emoji, {count, usernames}] of Object.entries(reactionsByBugnote[bugnoteId])) {\n            const reactionButton: HTMLElement = this.createReactionButton(emoji, usernames);\n            const span: HTMLSpanElement = this.createElement('span', ['reaction-count']) as HTMLSpanElement;\n            span.textContent = count.toString();\n\n            reactionButton.textContent = `${emoji}`;\n            reactionButton.dataset.bugnoteId = bugnoteId;\n            reactionButton.appendChild(span);\n            div.appendChild(reactionButton);\n        }\n        return div;\n    }\n\n    private createButton(text: string): HTMLButtonElement {\n        const button: HTMLButtonElement = this.createElement('button', ['reaction-button']) as HTMLButtonElement;\n        button.dataset.emoji = text;\n        button.textContent = text;\n        return button;\n    }\n\n    private createElement(tag: string, classList: string[] = []): HTMLElement {\n        const element: HTMLElement = document.createElement(tag);\n        element.classList.add(...classList);\n        return element;\n    }\n\n    private createReactionButton(reaction: string, usernames: string[]): HTMLElement {\n        const button: HTMLButtonElement = this.createButton(reaction)\n        const tooltip: HTMLDivElement = this.tooltip.createTooltip()\n\n        button.textContent = reaction\n        button.appendChild(tooltip)\n\n        button.addEventListener(\"click\", () => {\n            this.handleEmojiClick(reaction, button);\n        })\n\n        this.tooltip.attachTooltipModalEvents(button, usernames);\n\n        return button\n    }\n\n    async handleEmojiClick(emoji: string, button: HTMLElement): Promise<void> {\n        const bugnoteId = this.getBugnoteId(button);\n        const response: ReactionResponse = await this.saveReaction(emoji, bugnoteId);\n\n        const reactionIcons = document.querySelector(`.bugnote-reaction-icons-${bugnoteId}`);\n        if (!reactionIcons) {\n            return;\n        }\n\n        const existingButton = reactionIcons.querySelector(`[data-emoji=\"${emoji}\"]`);\n\n        if (!existingButton) {\n\n            const newButton = this.createReactionButton(emoji, [response.username]);\n\n            const span: HTMLSpanElement = this.createElement('span', ['reaction-count']) as HTMLSpanElement;\n            span.textContent = '1';\n            newButton.appendChild(span);\n\n            reactionIcons.appendChild(newButton);\n        } else if (response?.action) {\n            this.updateReactionCount(existingButton as HTMLElement, response);\n        }\n    }\n\n    private updateReactionCount(button: HTMLElement, response: ReactionResponse): void {\n        const span: HTMLSpanElement | null = button.querySelector('.reaction-count');\n\n        if (span) {\n            const currentCount = parseInt(span.textContent || '0');\n            const newCount = this.calculateNewCount(currentCount, response.action);\n\n            if (response.action === 'delete') {\n                this.tooltip.removeUserFromTooltipModal(button, response.username);\n            } else if (response.action === 'save') {\n                this.tooltip.addUserToTooltipModal(button, response.username);\n            }\n            this.updateButtonOrRemove(button, newCount, span);\n        }\n    }\n\n    private calculateNewCount(currentCount: number, action: string): number {\n        return action === 'delete' ? currentCount - 1 : currentCount + 1;\n    }\n\n    private updateButtonOrRemove(button: HTMLElement, newCount: number, span: HTMLSpanElement): void {\n        if (newCount === 0) {\n            button.remove();\n        } else {\n            span.textContent = newCount.toString();\n        }\n    }\n\n    private getBugnoteId(button: HTMLElement): string {\n        const closestTr = button.closest('tr');\n        if (!closestTr) {\n            throw new Error('Closest <tr> not found');\n        }\n        const bugnoteId = closestTr.getAttribute('id');\n        if (!bugnoteId) {\n            throw new Error('Bugnote ID not found');\n        }\n        return bugnoteId;\n    }\n\n\n    private async saveReaction(emoji: string, bugnoteId: string): Promise<ReactionResponse> {\n        try {\n            const response = await this.sendReactionRequest(emoji, bugnoteId);\n\n            if (!response.ok) {\n                const message: string = `Failed ${this.settings.actions.reaction} action. Status: ${response.status}. Message: ${await response.text()}`;\n                console.error(message);\n                throw new Error(message);\n            }\n\n            const responseText = await response.text();\n            try {\n                const parsedResponse = JSON.parse(responseText);\n\n                const action: 'delete' | 'save' = parsedResponse.action === 'delete' || parsedResponse.action === 'save'\n                    ? parsedResponse.action\n                    : 'save';\n\n                return {\n                    action: action,\n                    username: parsedResponse.username\n                };\n            } catch (jsonError) {\n                console.error('Failed to parse server response as JSON:', jsonError);\n                throw new Error(`Invalid JSON response: ${responseText}`);\n            }\n        } catch (error) {\n            console.error(`Error performing ${this.settings.actions.reaction} action.`, error);\n            throw error;\n        }\n    }\n\n    private async sendReactionRequest(emoji: string, bugnoteId: string): Promise<Response> {\n        return fetch(this.settings.url, {\n            method: 'POST',\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify({\n                bugnoteId,\n                bugId: this.settings.bugId,\n                emoji,\n                action: this.settings.actions.reaction,\n            }),\n        });\n    }\n}","export const DEFAULT_SETTINGS: NoteSettings = {\n  url: \"\",\n  actions: {\n    highlight: \"\",\n    unhighlight: \"\",\n    get_highlights: \"\",\n    reaction: \"\",\n    get_reactions: \"\"\n  },\n  bugId: \"\"\n};\n\nexport interface NoteSettings {\n  url: string;\n  actions: {\n    highlight: string;\n    unhighlight: string;\n    get_highlights: string;\n    reaction: string;\n    get_reactions: string\n  };\n  bugId: string;\n}\n\nexport async function getSettings(): Promise<NoteSettings> {\n  const el : HTMLInputElement = document.querySelector<HTMLInputElement>('#imaticNoteHighlighting')!;\n  const data = el.dataset.data;\n  if (!data) {\n    throw new Error('Missing data attribute on #imaticNoteHighlighting element');\n  }\n  return JSON.parse(data);\n}\n\n\n\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {BugnoteEnhancer} from './components/BugnoteEnhancer';\n\n(function () {\n\n    const bugnoteEnhancer :BugnoteEnhancer = new BugnoteEnhancer();\n\n    bugnoteEnhancer.init()\n\n})();\n"],"names":[],"sourceRoot":""}